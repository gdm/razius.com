<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Silviu Tantos (razius), Toying with the idea of becoming a useful member of society.">

        <link rel="alternate"  href="/feeds/all.atom.xml" type="application/atom+xml" title="Silviu Tantos (razius) Full Atom Feed"/>

        <title>Installing and adding an external Tomcat server inÂ Netbeans // Silviu Tantos (razius) // Toying with the idea of becoming a useful member of society.</title>

    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="/theme/css/pure.css">
    <link rel="stylesheet" href="/theme/css/pygments/monokai.css">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/theme/js/jquery.fitvids.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
<div class="pure-g-r" id="layout">
<div class="sidebar pure-u">
    <div class="cover-img" style="background-image: url('/images/cover.jpg')">
        <div class="cover-body">
            <header class="header">
                <hgroup>
                    <h1 class="brand-main"><a href="/">Silviu Tantos (razius)</a></h1>
                    <p class="tagline">Toying with the idea of becoming a useful member of society.</p>
                <p>
                    <span class="links pages"><a href="/">Home</a></span>
                        <span class="links pages active"><a href="/pages/about.html">About</a></span>
                        <span class="links pages active"><a href="/pages/contact.html">Contact</a></span>
                        <span class="links pages active"><a href="/pages/cv.html"><span class="caps">CV</span></a></span>
                </p>
                    <a target="_blank" class="social Github" href="http://github.com/razius"><img src="/images/social/github.png" title="Github"></a>
                    <a target="_blank" class="social Last.fm" href="http://last.fm/user/razius"><img src="/images/social/last.fm.png" title="Last.fm"></a>
                    <a target="_blank" class="social Twitter" href="http://twitter.com/razius"><img src="/images/social/twitter.png" title="Twitter"></a>
                    <a target="_blank" class="social RSS" href="http://feeds.feedburner.com/razius"><img src="/images/social/rss.png" title="RSS"></a>
                </hgroup>
            </header>
        </div>
    </div>
</div>    <div class="pure-u-3-4">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Installing and adding an external Tomcat server in&nbsp;Netbeans</h1>
                        <p class="post-meta">
                            meta = { 'category': <a href="/category/tech.html">tech</a>, 'date': 28-01-2012 }
                            <div class="meta-tags">
                                tags = [
                                        <a class="post-category" href="/tag/linux.html">linux</a><span class="comma">,</span>
                                        <a class="post-category" href="/tag/netbeans.html">netbeans</a><span class="comma">,</span>
                                        <a class="post-category" href="/tag/tomcat.html">tomcat</a><span class="comma">,</span>
                                ]
                            </div>
                        </p>
                </header>
            </section>
            <p>Netbeans no longer comes with Tomcat bundled so if you want to deploy
your application to an Tomcat server you need to manually register an
external&nbsp;server.</p>
<div class="section" id="pre-requisites">
<h2>Pre-requisites:</h2>
<p>I&#8217;m assuming you are using at least Ubuntu Linux 11.10 and you already
have installed the the latest Netbeans 7.1 with the Java Web
Applications plugin&nbsp;installed.</p>
<p>I also assume that you want to install and configure Tomcat from the
repository, if you don&#8217;t care an easier method would be to just download
<a class="reference external" href="http://ftp.download-by.net/apache/tomcat/tomcat-7/v7.0.47/bin/apache-tomcat-7.0.47.tar.gz">apache-tomcat.zip</a> from the Tomcat website, extract the archive to a
folder under your home directory and just skip to step 4 of this
tutorial where Under Server Location you would browse to where you
extracted the archive and under Username and Password you would put the
username and password you would have put in&nbsp;tomcat-users.xml.</p>
</div>
<div class="section" id="install-tomcat">
<h2>1. Install&nbsp;Tomcat</h2>
<pre class="literal-block">
$ sudo apt-get install tomcat7 tomcat7-common tomcat7-admin tomcat7-user
</pre>
</div>
<div class="section" id="add-an-administrative-user-to-tomcat">
<h2>2. Add an administrative user to&nbsp;Tomcat</h2>
<p>Tomcat does have any users defined that could be used for administrative
purposes so we need to open tomcat-users.xml in a text editor and add a
user with the proper roles assigned to&nbsp;it.</p>
<pre class="literal-block">
$ sudo gedit /etc/tomcat7/tomcat-users.xml
</pre>
<p>Replace its content with the following and make sure that you replace
<span class="caps">USERNAME</span> and <span class="caps">PASSWORD</span> with the values you&nbsp;want:</p>
<div class="system-message">
<p class="system-message-title">System Message: <span class="caps">WARNING</span>/2 (<tt class="docutils">/mnt/content/articles/tech/installing-and-adding-an-external-tomcat-server-in-netbeans.rst</tt>, line&nbsp;55)</p>
Literal block expected; none found.</div>
</div>
<div class="section" id="some-fixes">
<h2>3. Some&nbsp;&quot;fixes&quot;</h2>
<p>Unfortunately it seams that Netbeans doesn&#8217;t correctly detect the the
Tomcat installation directory so we need to make some temporary changes
till we add the server otherwise will get an error saying <em>The specified
Server Location (Catalina Home) folder is not&nbsp;valid.</em></p>
<pre class="literal-block">
$ cd /usr/share/tomcat7/lib
$ mv catalina.jar catalina.jar.bk
$ wget http://www.razius.com/files/catalina.jar
</pre>
<p>We need to make sure that the configuration files can be read from the
installation directory otherwise will get an error saying
<em>The&nbsp;&lt;CATALINA_HOME&gt;/conf/server.xml&nbsp;can&#8217;t&nbsp;be&nbsp;read.</em></p>
<pre class="literal-block">
$ sudo ln -s /etc/tomcat7/ /usr/share/tomcat7/conf
</pre>
<p>We need to chown the Tomcat installation and configuration directory so
we don&#8217;t have any permission problems. Replace <span class="caps">USERNAME</span> with your Ubuntu&nbsp;username:</p>
<pre class="literal-block">
$ sudo chown -R USERNAME:USERNAME /etc/tomcat7/
$ sudo chown -R USERNAME:USERNAME /usr/share/tomcat7/
</pre>
<p>Disable the upstart Tomcat service (Netbeans start&#8217;s it up for us&nbsp;automatically):</p>
<pre class="literal-block">
$ sudo update-rc.d tomcat7 disable 0123456
</pre>
<div class="section" id="adding-the-server-in-netbeans">
<h3>4. Adding the server in&nbsp;Netbeans</h3>
<dl class="docutils">
<dt><img alt="image0" src="http://razius.com/wp-content/uploads/2012/01/netbeans-add-server.png" /></dt>
<dd>Now that you have Tomcat installed and configured we can open&nbsp;up</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: <span class="caps">WARNING</span>/2 (<tt class="docutils">/mnt/content/articles/tech/installing-and-adding-an-external-tomcat-server-in-netbeans.rst</tt>, line&nbsp;98)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>Netbeans and under the Services tab right click on the Servers node and
click on Add&nbsp;server.</p>
<p>In the current list select Apache Tomcat and click&nbsp;Next.</p>
<dl class="docutils">
<dt><a href="#id1"><span class="problematic" id="id2">`|image1|`_</span></a></dt>
<dd>Under Server Location enter your Tomcat installation directory ,&nbsp;by</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: <span class="caps">WARNING</span>/2 (<tt class="docutils">/mnt/content/articles/tech/installing-and-adding-an-external-tomcat-server-in-netbeans.rst</tt>, line&nbsp;105)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>default this should be&nbsp;/usr/share/tomcat7</p>
<p>Next under Username and Password put in the username and password that
we added in the tomcat-users.xml&nbsp;file.</p>
<p>Click Finish. You should now be able to see Tomcat as an added server
under the Servers&nbsp;Node.</p>
</div>
</div>
<div class="section" id="revert-changes">
<h2>5. Revert&nbsp;changes</h2>
<p>If we are installing from the repository we need to revert some changes
done in step&nbsp;3:</p>
<pre class="literal-block">
$ cd /usr/share/tomcat7/lib
$ rm catalina.jar
$ mv catalina.jar.bk catalina.jar
</pre>
</div>
<div class="system-messages section">
<h2>Docutils System&nbsp;Messages</h2>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: <span class="caps">ERROR</span>/3 (<tt class="docutils">/mnt/content/articles/tech/installing-and-adding-an-external-tomcat-server-in-netbeans.rst</tt>, line 103); <em><a href="#id2">backlink</a></em></p>
Unknown target name: &quot;|image1|&quot;.</div>
</div>

            <div class="hr"></div>
            <a href="#" class="go-top">Go Top</a>
                <div class="comments">
                    <div id="disqus_thread"></div>
                    <script type="text/javascript">
                        var disqus_identifier = "articles/installing-and-adding-an-external-tomcat-server-in-netbeans.html";
                        (function() {
                            var dsq = document.createElement('script');
                            dsq.type = 'text/javascript';
                            dsq.async = true;
                            dsq.src = 'http://razius.disqus.com/embed.js';
                            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                        })();
                    </script>
                    <noscript>Please enable JavaScript to view <a href="http://disqus.com/?ref_noscript">comments</a>.</noscript>
                </div>
<footer class="footer">

</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
</body>
</html>